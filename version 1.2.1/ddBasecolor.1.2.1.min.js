class ddBasecolor{constructor(t,s=!1){var h,i;if(this.version="1.2.1",this.info={classname:this.__proto__.constructor.name,version:this._version,library:"ddBasecolor.js",owner:"Design Dude",year:"2019",developer:"Mek van 't Hoff",contact:"master.mek@design-dude.nl"},(h=document.createElement("canvas")).height=1,h.width=1,(i=h.getContext("2d")).fillStyle=t,i.fillRect(0,0,1,1),this.r=i.getImageData(0,0,1,1).data[0],this.g=i.getImageData(0,0,1,1).data[1],this.b=i.getImageData(0,0,1,1).data[2],this.a=i.getImageData(0,0,1,1).data[3]/255,this.h=0,this.s=0,this.l=0,this._cmyk=s,this._cmyk&&(this.c=0,this.m=0,this.y=0,this.k=0),this._to_hsl(),this._cmyk&&this._to_cmyk(),"string"==typeof t&&0===t.indexOf("cmyk")){var r=t.match(/([0-9\.\-]+)/g);4!==r.length&&5!==r.length||(this._cmyk=!0,this.c=r[0]<0?0:r[0]>100?100:parseFloat(r[0]),this.m=r[1]<0?0:r[1]>100?100:parseFloat(r[1]),this.y=r[2]<0?0:r[2]>100?100:parseFloat(r[2]),this.k=r[3]<0?0:r[3]>100?100:parseFloat(r[3]),this.a=1,5===r.length&&0===t.indexOf("cmyka")&&(this.a=r[4]<0?0:r[4]>1?1:parseFloat(r[4])),this._from_cmyk(),this._to_hsl())}this._basecolor="ddBasecolor"===this.info.classname&&this.copy()}_from_cmyk(){if(this._cmyk){var t=this.c/100,s=this.m/100,h=this.y/100,i=this.k/100;this.r=1-Math.min(1,t*(1-i)+i),this.g=1-Math.min(1,s*(1-i)+i),this.b=1-Math.min(1,h*(1-i)+i),this.r=Math.round(255*this.r),this.g=Math.round(255*this.g),this.b=Math.round(255*this.b)}}_from_hsl(){var t=this.h,s=this.s/100,h=this.l/100,i=(1-Math.abs(2*h-1))*s,r=i*(1-Math.abs(t/60%2-1)),a=h-i/2,o=0,e=0,_=0;0<=t&&t<60?(o=i,e=r,_=0):60<=t&&t<120?(o=r,e=i,_=0):120<=t&&t<180?(o=0,e=i,_=r):180<=t&&t<240?(o=0,e=r,_=i):240<=t&&t<300?(o=r,e=0,_=i):300<=t&&t<360&&(o=i,e=0,_=r),this.r=Math.round(255*(o+a)),this.g=Math.round(255*(e+a)),this.b=Math.round(255*(_+a))}_grey(t=1){var s=(this.l-50)/25,h=(.897*this.r+1.761*this.g+.342*this.b)/3;this.r=Math.round(this.r+(h-this.r)*t),this.g=Math.round(this.g+(h-this.g)*t),this.b=Math.round(this.b+(h-this.b)*t);var i=.95;this.r=Math.round(this.r*i+12.75),this.g=Math.round(this.g*i+12.75),this.b=Math.round(this.b*i+12.75),s<0&&(s=Math.min(0,s+1),this.r+=Math.round(this.r*s),this.g+=Math.round(this.g*s),this.b+=Math.round(this.b*s))}_index(t,s,h=-1,i){for(var r=[],a=0,o=0;o<=100;o+=1){var e=o/100,_=this.copy();-1===h?_=_.lightness(Math.round(_.l+s*e)):(_.r=Math.round(_.r+s*e),_.g=Math.round(_.g+h*e),_.b=Math.round(_.b+i*e));var n=_.luminance();(Math.abs(n-a)>.02||0==e)&&(r.push(e),a=n),1==e&&Math.abs(n-a)<=.02&&r.push(1)}var c=t*(r.length-1),l=r[Math.floor(c)];return l+(r[Math.ceil(c)]-l)*(c<1?c:c%Math.floor(c))}_luminance(t,s,h){var i=[t,s,h].map(function(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)});return.2126*i[0]+.7152*i[1]+.0722*i[2]}_max(t,s=0,h=1){return isNaN(t)?s:t<0?0:t>h?h:t}_resetbasecolor(){var t=this.clone();return this.r=this._basecolor.r,this.g=this._basecolor.g,this.b=this._basecolor.b,this.a=this._basecolor.a,this.h=this._basecolor.h,this.s=this._basecolor.s,this.l=this._basecolor.l,this._cmyk&&(this.c=this._basecolor.c,this.m=this._basecolor.m,this.y=this._basecolor.y,this.k=this._basecolor.k),t}_rnd(t,s,h){var i=h*t;return t=(t=s+-h/2*t+Math.random()*i)<0?t+i:t>h?t-i:t}_smart_luminance(t=new ddBasecolor,s=.5,h=!0){if(void 0!==t&&"ddBasecolor"===t.__proto__.constructor.name){s=this._max(s,.5);var i=t.l-this.l;return h&&(s=this._index(s,i)),this.l=Math.round(this.l+i*s),this._from_hsl(),this._cmyk&&this._to_cmyk(),this._resetbasecolor()}}_to_cmyk(){if(this._cmyk)if(this.r||this.g||this.b){var t=1-this.r/255,s=1-this.g/255,h=1-this.b/255;this.k=Math.min(t,Math.min(s,h)),this.c=Math.round((t-this.k)/(1-this.k)*1e5)/1e3,this.m=Math.round((s-this.k)/(1-this.k)*1e5)/1e3,this.y=Math.round((h-this.k)/(1-this.k)*1e5)/1e3,this.k=Math.round(1e4*this.k)/100}else this.c=0,this.m=0,this.y=0,this.k=1}_to_hsl(){var t=this.r/255,s=this.g/255,h=this.b/255,i=Math.min(t,s,h),r=Math.max(t,s,h),a=r-i,o=0,e=0,_=0;return o=0==a?0:r==t?(s-h)/a%6:r==s?(h-t)/a+2:(t-s)/a+4,(o=Math.round(60*o))<0&&(o+=360),_=(r+i)/2,e=+(100*(e=0==a?0:a/(1-Math.abs(2*_-1)))).toFixed(1),_=+(100*_).toFixed(1),this.h=Math.round(o),this.s=Math.round(e),this.l=Math.round(_),{h:this.h,s:this.s,l:this.l,a:this.a}}alpha(t=!1){return isNaN(t)||!1===t?this.a:(this.a=this._max(t),this._resetbasecolor())}blend(t=new ddBasecolor,s=!0){if(void 0!==t&&"ddBasecolor"===t.__proto__.constructor.name)return s?this.gradient(t):(this.r=Math.round(this.r+(t.r-this.r)/2),this.g=Math.round(this.g+(t.g-this.g)/2),this.b=Math.round(this.b+(t.b-this.b)/2),this.a=Math.round(this.a+(t.a-this.a)/2),this._to_hsl(),this._cmyk&&this._to_cmyk(),this._resetbasecolor())}clone(){var t=this.copy(),s=Object.create(Object.getPrototypeOf(t._basecolor),Object.getOwnPropertyDescriptors(t._basecolor));return s.r=t.r,s.g=t.g,s.b=t.b,s.a=t.a,s.h=t.h,s.s=t.s,s.l=t.l,s._cmyk&&(s.c=t.c,s.m=t.m,s.y=t.y,s.k=t.k),t._basecolor=s,t}cmyk(t,s,h,i,r=1){if(void 0===t||this._cmyk||(this.c=0,this.m=0,this.y=0,this.k=0,this._cmyk=!0),this._cmyk)return void 0!==t?(this.c=isNaN(t)||t<0?0:t>100?100:t,this.m=isNaN(s)||s<0?0:s>100?100:s,this.y=isNaN(h)||h<0?0:h>100?100:h,this.k=isNaN(i)||i<0?0:i>100?100:i,this.a=isNaN(r)||r>1?1:r<0?0:r,this._from_cmyk(),this._to_hsl(),this._resetbasecolor()):{c:this.c,m:this.m,y:this.y,k:this.k}}complement(){return this.rotate()}copy(){return Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this))}darken(t=1,s=!0){t=this._max(t,1);var h=this.l-this.l*t;return s?this._smart_luminance(new ddBasecolor,t):(this.l=h,this._from_hsl(),this._cmyk&&this._to_cmyk(),this._resetbasecolor())}desaturate(t=1){return t=this._max(t,1),this.s=this.s-Math.round(this.s*t),this._from_hsl(),this._cmyk&&this._to_cmyk(),this._resetbasecolor()}distinct(){}order(){}gradient(t=new ddBasecolor,s=.5,h=!0){if(void 0!==t&&"ddBasecolor"===t.__proto__.constructor.name){var i=t.r-this.r,r=t.g-this.g,a=t.b-this.b,o=t.a-this.a;s=isNaN(s)?.5:s<0?0:s>1?1:s;var e=Math.abs(t.l-this.l)/100*(Math.abs(t.s-this.s)/100);return h&&e>.2&&(s=this._index(s,i,r,a)),this.r=Math.round(this.r+i*s),this.g=Math.round(this.g+r*s),this.b=Math.round(this.b+a*s),this.a=Math.round(this.a+o*s),this._to_hsl(),this._cmyk&&this._to_cmyk(),this._resetbasecolor()}}grey(t=1,s=0){return t=this._max(t,1),this._grey(t),this._to_hsl(),this._cmyk&&this._to_cmyk(),s?this._smart_luminance(new ddBasecolor("white"),s):this._resetbasecolor()}hex(t){if(void 0===t){var s=[this.r,this.g,this.b].map(function(t){return 1==(t=t.toString(16)).length&&(t="0"+t),1==t.length?t="0"+t:t});return"#"+s[0]+s[1]+s[2]}var h=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(h?h.push("ff"):h=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),h)return this.r=parseInt(h[1],16),this.g=parseInt(h[2],16),this.b=parseInt(h[3],16),this.a=parseInt(h[4],16)/255,this._to_hsl(),this._cmyk&&this._to_cmyk(),this._resetbasecolor()}hexa(t){if(void 0!==t)return this.hex(t);var s=[this.r,this.g,this.b,Math.round(255*this.a)].map(function(t){return 1==(t=t.toString(16)).length&&(t="0"+t),1==t.length?t="0"+t:t});return"#"+s[0]+s[1]+s[2]+s[3]}hsl(t,s,h,i=1){return"object"===t||"obj"===t?{h:this.h,s:this.s,l:this.l,a:this.a}:void 0!==t?(this.h=isNaN(t)?0:t<0?(t+360*Math.ceil(-t/360))%360:t>360?t%360:t,this.s=isNaN(s)||s>100?100:s<0?0:s,this.l=isNaN(h)?50:h>100?100:h<0?0:h,this.a=isNaN(i)||i>1?1:i<0?0:i,this._from_hsl(),this._cmyk&&this._to_cmyk(),this._resetbasecolor()):"hsl("+this.h+","+this.s+"%,"+this.l+"%)"}hsla(t,s,h,i=1){return"object"===t||"obj"===t?this.hsl(t,s,h,i):"hsla("+this.h+","+this.s+"%,"+this.l+"%,"+this.a.toFixed(1)+")"}hue(t=!1){return isNaN(t)||!1===t?this.h:(this.h=t<0?(t+360*Math.ceil(-t/360))%360:t>360?t%360:t,this._from_hsl(),this._cmyk&&this._to_cmyk(),this._resetbasecolor())}index(t=2,s=1,h,i){var r=!1!==h;(i=isNaN(i)&&!isNaN(h)?h:i)||(i=0),(isNaN(t)||t<2)&&(t=2),t=r?t:t+1,(isNaN(s)||s<1)&&(s=1);var a=1/(t-1);for(s=(s-1)*a;s>=1&&!r;)s=s-1+a*i;for(;s>1&&r;)s=s-1+a*i;return s}invert(){return this.r=255-this.r,this.g=255-this.g,this.b=255-this.b,this._to_hsl(),this._cmyk&&this._to_cmyk(),this._resetbasecolor()}lighten(t=1,s=!0){t=this._max(t,1);var h=this.l+(100-this.l)*t;return s?this._smart_luminance(new ddBasecolor("white"),t):(this.l=h,this._from_hsl(),this._cmyk&&this._to_cmyk(),this._resetbasecolor())}lightness(t=!1){return isNaN(t)||!1===t?this.l:(t=this._max(t,0,100),this.l=Math.round(t),this._from_hsl(),this._cmyk&&this._to_cmyk(),this._basecolor?this._resetbasecolor():this)}luminance(){return this._luminance(this.r,this.g,this.b)}monotone(t,s=1){if(void 0!==t&&"ddBasecolor"===t.__proto__.constructor.name){s=this._max(s,.5),this._grey(1);var h=this.copy(),i=this.r/255;this.r=t.r,this.g=t.g,this.b=t.b,this._to_hsl(),this.l=Math.round(t.l*(1-(1-2*i))),this._from_hsl();var r=this.r-h.r,a=this.g-h.g,o=this.b-h.b;return this.r=Math.round(h.r+r*s),this.g=Math.round(h.g+a*s),this.b=Math.round(h.b+o*s),this._to_hsl(),this._cmyk&&this._to_cmyk(),this._resetbasecolor()}}opaque(t=1){return t=this._max(t,1),this.a=this.a+(1-this.a)*t,this._resetbasecolor()}rainbow(t=.5,s=0,h=this.copy(),i=!0){if(void 0!==h&&"ddBasecolor"===h.__proto__.constructor.name){t=this._max(t,.5),s=isNaN(s)?"cc"===s?-1:"s"===s?0:"c"===s?1:"l"===s?2:0:s;var r=h.copy();r.r===r.g&&r.r===r.b&&(r.h=this.h);var a=r.s-this.s;this.s=this.s+a*t;var o=r.l-this.l;this.l=this.l+o*t;var e=r.a-this.a;this.a=this.a+e*t;var _=r.h-this.h;if(s<0)for(;_>=0;)_-=360;if(1===s)for(;_<=0;)_+=360;if((0===s&&_<-180||2===s&&_<0&&_>-180)&&(_=360+_),(0===s&&_>180||2===s&&_>0&&_<180)&&(_=-360+_),0===s&&0===_&&(_=360),i){for(var n=[],c=0,l=0;l<=1;l+=.01){var m=this.copy(),d=m.h+Math.round(_*l);360===(d=d<0?(d+360*Math.ceil(-d/360))%360:d>360?d%360:d)&&(d=0),m.h=d,m._from_hsl();Math.abs(c-m.luminance())>.025&&(n.push(l),c=m.luminance()," ok")}1!=n[n.length-1]&&n.push(1);var u=t*(n.length-1),b=n[Math.floor(u)];t=b+(n[Math.ceil(u)]-b)*(u<1?u:u%Math.floor(u))}return 360===(_=(_=this.h+Math.round(_*t))<0?(_+360*Math.ceil(-_/360))%360:_>360?_%360:_)&&(_=0),this.h=_,this._from_hsl(),this._cmyk&&this._to_cmyk(),this._resetbasecolor()}}random(t=1,s=1,h=1,i=1,r=1,a=1,o=0){return t=this._max(t),s=this._max(s),h=this._max(h),i=this._max(i),r=this._max(r),a=this._max(a),o=this._max(o,0),i&&(i=(i=this.h+-180*i+360*Math.random()*i)<0?(i+360*Math.ceil(-i/360))%360:i>360?i%360:i,this.h=Math.round(i)),r&&(this.s=Math.round(this._rnd(r,this.s,100))),a&&(this.l=Math.round(this._rnd(a,this.l,100))),this._from_hsl(),t&&(this.r=Math.round(this._rnd(t,this.r,255))),s&&(this.g=Math.round(this._rnd(s,this.g,255))),h&&(this.b=Math.round(this._rnd(h,this.b,255))),o&&(this.a=this._rnd(o,this.a,1)),this._to_hsl(),this._cmyk&&this._to_cmyk(),this._resetbasecolor()}ratio(t,s=!1,h=1){if(void 0!==t&&"ddBasecolor"===t.__proto__.constructor.name){var i=this._luminance(t.r,t.g,t.b)+.05,r=this._luminance(this.r,this.g,this.b)+.05,a=r>i?r/i:i/r,o=this.l;if("aa"===(s=(""+s).toLowerCase())||"aaa"===s||"aa18"===s||"aaa18"===s){s="aaa"===s?7:"aa"===s||"aaa18"===s?4.5:3;for(var e,_=r<i?100:0,n=r>i?100:0,c=r>i?1:-1,l=-1,m=-1;_!=n+c;)this.l=_,this._from_hsl(),_==o&&!0,!(e=(a=(r=this._luminance(this.r,this.g,this.b)+.05)>i?r/i:i/r)>=s)||-1!=l&&m==_-c||(l=_),e&&(m=_),_+=c;(o>l&&o<=m||o<l&&o>=m)&&(l=o);Math.max(l,m),Math.min(l,m);var d=Math.round(l+(m-l)*h);return this.l=d,this._from_hsl(),this._cmyk&&this._to_cmyk(),this._resetbasecolor()}return a}}rgb(t,s,h,i=1){return"object"===t||"obj"===t?{r:this.r,g:this.g,b:this.b,a:this.a}:void 0!==t?(this.r=Math.round(this._max(t,0,255)),this.g=Math.round(this._max(s,0,255)),this.b=Math.round(this._max(h,0,255)),this.a=this._max(i,1),this._to_hsl(),this._cmyk&&this._to_cmyk(),this._resetbasecolor()):"rgb("+this.r+","+this.g+","+this.b+")"}rgba(t,s,h,i=1){return"object"===t||"obj"===t?this.rgb(t,s,h,i):"rgba("+this.r+","+this.g+","+this.b+","+this.a.toFixed(1)+")"}rotate(t=180){if(isNaN(t)||!1===t)return this.h;for(t>-1&&t<1&&(t*=360);t>=360;)t-=360;for(;t<=-360;)t+=360;return t=this.h+t,this.h=t<0?(t+360*Math.ceil(-t/360))%360:t>360?t%360:t,this._from_hsl(),this._cmyk&&this._to_cmyk(),this._resetbasecolor()}saturate(t=1){return t=this._max(t,1),this.s=this.s+Math.round((100-this.s)*t),this._from_hsl(),this._cmyk&&this._to_cmyk(),this._resetbasecolor()}saturation(t=!1){return isNaN(t)||!1===t?this.s:(t=this._max(t,0,100),this.s=Math.round(t),this._from_hsl(),this._cmyk&&this._to_cmyk(),this._resetbasecolor())}transparent(t=1){return t=this._max(t,1),this.a=this.a-this.a*t,this._resetbasecolor()}vivid(t=1){return t=this._max(t,1),this.s=Math.round(this.s+(100-this.s)*t),this.l=Math.round(this.l+(50-this.l)*t),this._from_hsl(),this._cmyk&&this._to_cmyk(),this._resetbasecolor()}}